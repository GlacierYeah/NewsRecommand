# NewsRecommand
基于Spark的新闻推荐系统

## 项目概述

NewsRecommand 是一个基于 Spark 的新闻推荐系统，旨在为用户提供个性化的新闻推荐服务。该系统通过对新闻数据集进行处理和分析，运用多种推荐算法，将符合用户兴趣的新闻动态地展示在网页上。

## 项目功能

### 1. 数据处理与存储

- **数据集读取**：从本地文件系统读取新闻文本数据，支持多种编码格式（如 UTF-8、GBK 等）。
- **数据预处理**：去除分类名称中的数字，截断文本内容以确保不超过数据库字段的最大长度。
- **数据存储**：将处理后的数据转换为 Spark DataFrame，并存储到 MySQL 数据库中，方便后续的推荐计算和查询。

### 2. 推荐算法实现

- **协同过滤推荐**：基于用户的历史行为数据（如点赞、踩、点击等），使用 ALS（交替最小二乘法）算法计算用户与新闻之间的相似度，为用户推荐可能感兴趣的新闻。
- **基于流行度的推荐**：根据新闻的点击量和点赞数计算新闻的流行度得分，为用户推荐流行度较高的新闻，同时排除用户已经浏览过的新闻。
- **基于内容相似度的推荐**：对新闻内容进行特征提取（如 TF-IDF），计算新闻之间的相似度，为用户推荐与他们历史喜爱的新闻内容相似的新闻。

### 3. 网页交互与展示

- **用户登录**：提供简单的登录界面，用户输入用户名后，系统验证用户信息并将用户 ID 存入会话。
- **新闻推荐**：用户登录后，系统根据用户 ID 调用相应的推荐算法，计算推荐结果，并将新闻动态地展示在网页上。支持分页加载，提高用户体验。
- **用户反馈**：用户可以对新闻进行点赞、踩和点击操作，系统会实时更新新闻的点赞数、踩数和点击量，并根据用户反馈调整推荐结果。
- **新闻详情**：用户点击新闻标题可以查看新闻的详细内容，同时显示新闻的分类、点击量、点赞数和踩数等信息。

## 项目结构

plaintext











```plaintext
NewsRecommand/
├── FlaskProject/
│   ├── db.py             # 数据处理与存储脚本
│   ├── app.py            # Flask 应用主程序
│   ├── spark_recommend.py # 推荐算法实现脚本
│   ├── data/             # 新闻数据集
│   │   └── 文本分类语料库/
│   ├── templates/        # 网页模板
│   │   ├── index.html    # 登录页面
│   │   ├── recommend.html # 新闻推荐页面
│   │   └── news_detail.html # 新闻详情页面
│   └── .idea/            # IDE 配置文件
└── README.md             # 项目说明文档
```

## 运行步骤

### 1. 环境准备

- 安装 Python 3.11 及以上版本
- 安装 Spark 并配置环境变量
- 安装 MySQL 数据库，并创建名为 `news_recommend` 的数据库
- 安装项目依赖的 Python 库：

bash











```bash
pip install pyspark flask flask-mysqldb
```

### 2. 数据处理与存储

- 运行 `db.py` 脚本，将新闻数据集处理并存储到 MySQL 数据库中：

bash











```bash
python FlaskProject/db.py
```

### 3. 启动 Flask 应用

- 运行 `app.py` 脚本，启动 Flask 应用：

bash











```bash
python FlaskProject/app.py
```

### 4. 访问网页

- 打开浏览器，访问 `http://localhost:5000`，输入用户名登录系统，即可查看推荐的新闻。

## 注意事项

- 请确保 MySQL 数据库的用户名和密码与代码中的配置一致。
- 新闻数据集的路径需要根据实际情况进行调整。
- 在开发和测试过程中，可以将 `app.py` 中的 `debug` 参数设置为 `True`，以开启调试模式。

## 贡献者

如果你对该项目感兴趣，可以通过提交代码、报告问题或提出建议等方式参与贡献。

## 许可证

本项目采用 MIT 许可证，详情请参阅 LICENSE 文件。
